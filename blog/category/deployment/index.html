<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>deployment | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/rss+xml" title="RSS - deployment" href="../../taxonomy/term/1161/0/feed/index.html" />
<link rel="shortcut icon" href="../../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/aggregator/aggregator/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/node/node/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/poll/poll/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/defaults/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system-menus/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/user/user/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/cck/theme/content-module/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/date/date/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/geshifilter/geshifilter/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../misc/farbtastic/farbtastic/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/calendar/calendar/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/views/css/views/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/taxonomy/taxonomy/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/default/themes/barlow/typography/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/default/themes/barlow/layout/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/default/themes/barlow/style/index.css?i" />
<link type="text/css" rel="stylesheet" media="print" href="../../sites/default/themes/barlow/print/index.css?i" />
</head>

<body class="not-front not-logged-in page-taxonomy one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../../faq/index/index.html">FAQ</a> and  <a href="../../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
<p><a href="../../rss/index.xml">Feed</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../../index/index.html">Home</a></div></div>
  <h2 id="title">deployment</h2>
<div class="content">
<div id="node-1065" class="node teaser blog cal">
    <acronym class="calendar published" title="2012-05-01T21:02:30+02:00">
  <span class="month">May</span>
  <span class="day">01</span>
    <span class="year">2012</span>
    </acronym>
    <h2 class="title"><a href="../../devops-munich/index.html">Devops in Munich</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_456 first"><a href="../../taxonomy/term/456/index.html" rel="tag" title="">cfp</a></li>
<li class="taxonomy_term_1482"><a href="../configmgmt/index.html" rel="tag" title="">configmgmt</a></li>
<li class="taxonomy_term_1161 active"><a href="index.html" rel="tag" title="" class="active">deployment</a></li>
<li class="taxonomy_term_1328"><a href="../devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_484"><a href="../../taxonomy/term/484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_1483"><a href="../measurement/index.html" rel="tag" title="">measurement</a></li>
<li class="taxonomy_term_938"><a href="../../taxonomy/term/938/index.html" rel="tag" title="">monitoring</a></li>
<li class="taxonomy_term_458"><a href="../../taxonomy/term/458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_439"><a href="../../taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
<li class="taxonomy_term_1451 last"><a href="../testing/index.html" rel="tag" title="">testing</a></li>
</ul></span>
        </div>
  <div class="content"><p>Devopsdays Mountainview sold out in a short 3 hours ..   but there's other events   that will breath devops this summer.<br />
DrupalCon in Munich will be one of them ..</p>
<p>Some of you might have noticed that I`m cochairing the devops track for DrupalCon Munich,<br />
The CFP is open till the 11th of this month and we are still actively looking for speakers.</p>
<p>We're trying to bridge the gap between drupal developers and the people that put their code to production, at scale.<br />
But also enhancing the knowledge of infrastructure components Drupal developers depend on.</p>
<p>We're looking for talks both on culture (both success stories and failure) ,   automation,<br />
specifically looking for people talking about drupal deployments , eg using tools like Capistrano, Chef, Puppet,<br />
We want to hear where Continuous Integration fits in your deployment ,  do you do Continuous Delivery of a drupal environment.<br />
And how do you test ... yes we like to hear a lot about testing , performance tests, security tests, application tests and so on.<br />
...  Or have you solved the content vs code vs config  deployment problem yet ? </p>
<p>How are you measuring and monitoring these deployments and adding metrics to them  so you can get good visibility on both<br />
system and user actions of your platform.  Have you build fancy dashboards showing your whole organisation the current state of your deployment ? </p>
<p>We're also looking  for people talking about introducing different data backends,  nosql,  scaling different search backends , building your own cdn using  smart  filesystem setups.<br />
Or making smart use of existing backends, such as tuning and scaling MySQL, memcached and others.</p>
<p>So lets make it clear to the community that drupal people do care about their code after they committed it in source control ! </p>
<p>Please submit your talks <a href="http://munich2012.drupal.org/news/call-for-papers" rel="nofollow">here</a></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../devops-munich/index.html#comments" title="Jump to the first comment of this posting.">4 comments</a></li>
</ul></div>
</div>
<div id="node-1045" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-07-17T22:39:27+02:00">
  <span class="month">Jul</span>
  <span class="day">17</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="../../drupal-and-configuration-mgmt-were-getting-there/index.html">Drupal and Configuration Mgmt, we&#039;re getting there ... </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1158 first"><a href="../chef/index.html" rel="tag" title="">chef</a></li>
<li class="taxonomy_term_440"><a href="../../taxonomy/term/440/index.html" rel="tag" title="">configuration management</a></li>
<li class="taxonomy_term_1161 active"><a href="index.html" rel="tag" title="" class="active">deployment</a></li>
<li class="taxonomy_term_1328"><a href="../devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_484"><a href="../../taxonomy/term/484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_461"><a href="../../taxonomy/term/461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_439 last"><a href="../../taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
</ul></span>
        </div>
  <div class="content"><p>For those who haven't noticed yet .. I`m into devops  .. I`m also a little bit into Drupal, (blame my last name..)  ,  so one of the frustrations I've been having with Drupal (an much other software) is the automation of deployment and upgrades of Drupal sites ... </p>
<p>So for the past couple of days  I've been trying to catch up to the ongoing discussion regarding the results of the <a href="http://groups.drupal.org/node/155559" rel="nofollow">configuration mgmt  sprint</a> , I've been looking at it mainly from a systems point of view , being  with the use of Puppet/ Chef or similar tools in mind ..  I know I`m late to the discussion but hey , some people take holidays in this season :)   So below you can read a bunch of my comments ... and thoughts on the topic ..</p>
<p>First of all , to me JSON looks like a valid option.<br />
Initially there was the plan to wrap the JSON in a PHP header for "security" reasons, but that seems to be gone even while nobody mentioned the problems that would have been caused for external configuration management tools.<br />
When thinking about external tools that should be capable of mangling the file plenty of them support JSON but won't be able to recognize a JSON file with a weird header ( thinking e.g about Augeas  (augeas.net) , I`m not talking about IDE's , GUI's etc  here, I`m talking about system level tools and libraries  that are designed to mangle standard files.   For Augeas we could create a separate lens to manage these files , but other tools might have bigger problems with the concept.</p>
<p>As <a href="http://groups.drupal.org/node/155559#comment-520134" rel="nofollow">catch</a> suggest a clean .htaccess should be capable of preventing people to access the .json files  There's other methods to figure out if files have been tampered with , not sure if this even fits within Drupal  (I`m thinking about reusing existing CA setups rather than having yet another security setup to manage) , </p>
<p>In general to me tools such as puppet should be capable of modifying config files , and then activating that config with no human interaction required , obviously drush is a good candidate here to trigger the system after the config files have been change, but unlike some people think having to browse to a web page to confirm the changes is not an acceptable solution.  Just think about having to do this on multiple environments ... manual actions are error prone.. </p>
<p>Apart from that I also think the storing of the certificates should not be part of the file.  What about a meta file with the appropriate checksums ?  (Also if I`m using Puppet or any other tool to manage my config files then the security , preventing to tamper these  files, is already covered by the configuration management tools,  I do understand that people want to build Drupal in the most secure way possible, but I don't think this belongs in any web application.  </p>
<p>When I look at other similar discussions that wanted to provide a similar secure setup they ran into a lot of end user problems with these kind of setups,  an alternative approach is to make this configurable and or plugable.   The default approach should be to have it enable, but the more experienced users should have the opportunity to disable this, or replace it with another framework.   Making it plugable upfront solves a lot of hassle later.</p>
<p>Someone in the discussion noted :<br />
"One simple suggestion for enhancing security might be to make it possible to omit the secret key file and require the user to enter the key into the UI or drush in order to load configuration from disk."</p>
<p>Requiring the user to enter a key in the UI or drush would be counterproductive in the goal one wants to achieve,  the last thing you want as a requirement is manual/human interaction when automating setups.   therefore a feature like this should never be implemented  </p>
<p>Luckily there seems to be  new idea around <a href="http://groups.drupal.org/node/157379" rel="nofollow">that</a> doesn't plan on using a raped json file<br />
<cite>instead of storing the config files in a standard place, we store them in a directory that is named using a hash of your site's private key, like sites/default/config_723fd490de3fb7203c3a408abee8c0bf3c2d302392. The files in this directory would still be protected via .htaccess/web.config, but if that protection failed then the files would still be essentially impossible to find. This means we could store pure, native .json files everywhere instead, to still bring the benefits of JSON (human editable, syntax checkable, interoperability with external configuration management tools, native + speedy encoding/decoding functions), without the confusing and controversial PHP wrapper.</cite></p>
<p>Figuring out the directory name for the configs from a configuration mgmt tool then could be done by something similar to  </p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">cd sites/default/conf/$(ls sites/default/conf|head -1)</div></li></ol></pre></div></p>
<p>In general I think the proposed setup looks acceptable , it definitely goes in the right direction of providing systems people with a way to automate the deployment of Drupal sites and applications at scale.</p>
<p>I`ll be keeping a eye on both the direction they are heading into and the evolution of the code !</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../drupal-and-configuration-mgmt-were-getting-there/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-861" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-01-18T14:08:22+01:00">
  <span class="month">Jan</span>
  <span class="day">18</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../anybody-else-confused-about-chef/index.html">Is anybody else confused about Chef ? </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1159 first"><a href="../automating/index.html" rel="tag" title="">automating</a></li>
<li class="taxonomy_term_1158"><a href="../chef/index.html" rel="tag" title="">chef</a></li>
<li class="taxonomy_term_1160"><a href="../config-mgmt/index.html" rel="tag" title="">config mgmt</a></li>
<li class="taxonomy_term_1161 active"><a href="index.html" rel="tag" title="" class="active">deployment</a></li>
<li class="taxonomy_term_1077"><a href="../../taxonomy/term/1077/index.html" rel="tag" title="">devministration</a></li>
<li class="taxonomy_term_461"><a href="../../taxonomy/term/461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_439 last"><a href="../../taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://wiki.opscode.com/display/chef/Home" rel="nofollow">Chef</a> absolutely confuses me..</p>
<p><a href="http://madstop.com/2009/01/16/opscode-announces-chef-a-puppet-competitor/" rel="nofollow">Luke</a>  is confused too ..<br />
<cite><br />
Iâ€™m clearly disappointed that someone who has been a high-profile user of Puppet but has never contributed much in the way of code (Ohloh claims 2 commits) would decide to start a whole new project rather than attempt to contribute to Puppet</cite></p>
<p>Now , if you know me a bit you know that reinventing the wheel,  or creating identical projects with no clear reasons is something I dislike .</p>
<p>When looking at Chef's FAQ there isn't really a clear reason listed why they wanted to create a new project.</p>
<p>I could understand if Chef were written in a total different language .. but hmm.. it's written in Ruby again ..    I can only think of one other area where there are 2 major competing tools written in the same language and that is OTRS and RT, still wondering how that can happen.</p>
<p>One of the core values of an Open Source project is that you can contribute, adapt , and even fork.. why would you want to start over from scratch ?<br />
So launching a competing open source project in that way therefore doesn't really seem like a smart thing to do,</p>
<p>Maybe one  way to explain it is  the <a href="http://lmaugustin.typepad.com/lma/2008/09/commercial-open-source-in-europe-verses-the-us.html" rel="nofollow">European vs American</a> style of Open Source Adoption ...   ,   Luke has the more European approach (consultancy, build new features, support, train, evangelize, earn a good living) , where as OpsCode with Jesse Robins in charge might head for a more American style (Productize, Dual License , CashOut ).</p>
<p>So can the <a href="http://blog.opscode.com/" rel="nofollow">Chefs</a> please explain why they didn't contribute to Puppet, or as their FAQ , well it doesn't really Answer any of the Questions</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../anybody-else-confused-about-chef/index.html#comments" title="Jump to the first comment of this posting.">11 comments</a></li>
</ul></div>
</div>
</div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
