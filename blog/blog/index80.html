<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Everything is a Freaking DNS problem | Devops Needs Sushi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../blogapi/rsd/index.html" />
<link rel="alternate" type="application/rss+xml" title="Everything is a Freaking DNS problem RSS" href="../rss/index.xml" />
<link rel="shortcut icon" href="../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/aggregator/aggregator/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/node/node/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/poll/poll/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/theme/content-module/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/date/date/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/geshifilter/geshifilter/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../misc/farbtastic/farbtastic/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/calendar/calendar/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/typography/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/layout/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/style/index.css?i" />
<link type="text/css" rel="stylesheet" media="print" href="../sites/default/themes/barlow/print/index.css?i" />
</head>

<body class="front not-logged-in page-node one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../faq/index/index.html">FAQ</a> and  <a href="../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
<p><a href="../rss/index.xml">Feed</a></p>
</div>
</div>

  </div>

<div id="main">
<div class="content">
<div id="node-243" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-01T19:26:03+02:00">
  <span class="month">Sep</span>
  <span class="day">01</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/243/index.html">MySQL Cluster woes ... solved !</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>Those who were present at the 1st Belgian MySQL UG might have overheard that I had spend the better part of tuesday , fighting with an unstable MySQL cluster,  ndb nodes dying with no reason whatsoever and no traces in the MySQL logfiles.</p>
<p>I found the issue wednesday evening,  it wasn't even MySQL related.</p>
<pre> Aug 30 12:30:30 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
 Aug 30 12:30:30 DB-A last message repeated 6 times
 Aug 30 12:30:43 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0xf0/0)
 Aug 30 12:30:45 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
 Aug 30 12:30:45 DB-A kernel: VM: killing process ndbd</pre><p>Thing was that I was testing on one of the older platforms which don't have the 2Gb of memory I`m used to on my test platforms, but only have 512.<br />
Addedd some more bars :)</p>
<p>On a related note , someone just posted a comment spam to one of my former MySQL articles pointing to some site trying to sell a product converting a MySQL database to some proprietary file format  ,  so I`m wondering .. which moron would want to do that ?  Just as I wonder which morons would actually buy stuff they get offered in spam anyway ..</p>
</div>
</div>
<div id="node-242" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-25T17:25:37+02:00">
  <span class="month">Aug</span>
  <span class="day">25</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/242/index.html">Kung Fu Apps �  Amazon Just Out Innovated EMC</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>Kung Fu Apps reports that <a href="http://www.kungfuapps.com/2006/08/25/amazon-just-out-innovated-emc-2/">Amazon Just Out Innovated EMC</a> , it might even be true :)</p>
<p>The <a href="http://www.amazon.com/gp/browse.html?node=201590011">concept of serving virtual machines</a> on demand looks really promising,<br />
Kung Fu claims it's all based on Xen,  understandable, at first  I couldn't find any direct references on the Amazon site but digging deeper showed <a href="http://developer.amazonwebservices.com/connect/thread.jspa?threadID=11507&amp;tstart=0">this thread </a> where one Amazonian mentions  their platform  is based on an Fedora Core Xen platform.</p>
<p>Really great stuff.  Now if only the full code to the API would become available so that we can use it ourselves  rather than having to pay Amazon for bandwith and storage which we have plenty locally :)  Or did I overlook the download button ?</p>
</div>
</div>
<div id="node-241" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-23T12:18:02+02:00">
  <span class="month">Aug</span>
  <span class="day">23</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/241/index.html">canvas.be - The IT crowd</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p><a href="http://www.canvas.be/canvas_master/programmas/itcrowd/c_itcrowd_programma/index.shtml">canvas.be - The IT crowd</a></p>
<pre></pre><p>Added Keyword search to my Mythtv schedule :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="../node/241/index.html#comments" title="Jump to the first comment of this posting.">18 comments</a></li>
</ul></div>
</div>
<div id="node-240" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-23T12:05:43+02:00">
  <span class="month">Aug</span>
  <span class="day">23</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/240/index.html">Open source location redux</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>In <a href="http://asay.blogspot.com/2006/08/open-source-location-redux.html">Open source location redux</a>  Matt wonders if he should add more sales infrastructure in Europe or less.</p>
<blockquote><p>(Having said that, Alfresco has realized an immediate gain from adding sales/business development people in Germany and France. Suddenly, many downloads that had been inclined toward a free beer discovered the value of paying for freedom. So maybe the real solution to the "problem" is to invest more sales infrastructure in Europe, rather than less? Not sure....)</p>
</blockquote>
<p>I think the obvious answer is to in invest <em>smarter</em></p>
<p>As an open source company , Alfresco luckily was one of the firsts to realise that the only way to conquer the European market is to be present there locally.</p>
<p>RedHat  and MySQL learned this slowly,  it took years before customers could match a face to RedHat and even longer to to feel local presence. A European customer does not buy easily from  some sales office in the UK if it's only a sales office,  they want to talk to someone.  Timezones and language differences make it even more difficult.   Lots of people want to work with  someone in their timezone who speaks their language and their culture (Sometimes even their dialect,  as from experience I know that a Dutch salesguy isn't likely to sell much in Belgium)</p>
<p>As for Open Source startups it's impossible to do such an investment  so they need to find good partners for local support.  Being based in the USA is easy.. you have a vast amount of customers living in the same country speaking the same language.</p>
<p>But here's your next question ..<br />
"How should an open source company choose it's partners ? , based on revenue  from reselling products  or based on finding soulmates with skills to support and contribute to their products ?"</p>
</div>
</div>
<div id="node-239" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-18T22:19:16+02:00">
  <span class="month">Aug</span>
  <span class="day">18</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/239/index.html">MySQL Cross Replication</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>I was looking for an alternative to MySQL Cluster  for large tables, less critical tables but still important enough ones ;)</p>
<p>I got MySQL cluster up and running for most of my tables,  but we need some tables that are storing log information,  it's not really critical, but we don't want to loose it anyway.  As we don't want to put that stuf in memory I was looking into replication those tables.  Now Linux-HA  takes care of which mysqld instance to talk to ,  but if I fail over the active database IP  the applications start writing to the 2nd node which is the replication slave for a couple of tables. That's perfect for the Cluster tables, but it's pain for the replicated InnodB tables as replication breaks and I can't migrate back automagically.</p>
<p>Upon reading the  --read-only  parameter in the replication documentation I tought I had found the solution, only to realise this actually puts the whole mysql in read-only also the tables being used by MySQL Cluster,  not a good  solution either therefore.</p>
<p>Fiddling with different users on the different nodes having diffent permissions crossed my mind , but then I started thinking about creating a set of 3 tables.   A .master table, a .slave table and on both nodes a .merge table of the previous ones.  Read access would be to the .merge table, write access to the .master table, while  using --replicate-rewrite-db  to replicate to the .slave table.  It could have worked (didn't try) but my tables were InnoDB.<br />
I went ahead anyway and setup cross replication for both nodes to another database.      Both nodes now have databases with the same tables<br />
blah and blahrepl  as this is log information I can always manually merge when I need the data , but at least I don't lose it when a node crashes.</p>
<p>One tricky thing however .. it's documented in the comments of the mysql site</p>
<blockquote><p>If you're attempting to use both<br />
replicate-do-db=from_name<br />
and<br />
replicate-rewrite-db=from_name-&gt;to_name<br />
be aware that you need to actually say<br />
replicate-do-db=to_name<br />
because the rewrite rule apparently happens before<br />
the do-db rule.</p>
</blockquote>
<p>And that works.</p>
<p>I  should look into upgrading those boxen to  MySQL 5.1.11  and continue my tests on  Disk Based Cluster ,  but as they are on an older platform with no prebuild rpm's available that wasn't an option today ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="../node/239/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-238" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-18T22:08:47+02:00">
  <span class="month">Aug</span>
  <span class="day">18</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/238/index.html">Booting Xen of the network</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>You know you can't just boot Xen of a PXE server, it's not a normal linuxkernel your booting , so you need<br />
a multibootloader, such as the COM32 one that is packed in recent syslinux versions.</p>
<p>While playing with openQRM I ran into an odd problem.  I still haven't figured out the actual problem.</p>
<p>I saw  COM32 Multibootloader v0.1 taking a Xen from boot/xen.gz<br />
then the module  boot/res-1-kernel  and later boot/res-1-initrd.img ...<br />
after loading the last one and about 2.5 lines of dots I got<br />
Booting:  MBI=0x000100d8, entry=0x00100000</p>
<p>Then nothing and it seemed like my machine locked.</p>
<p>The fix was to upgrade the multibootloader to the one that is in Syslinux 3.11  from there on.. no more problems.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="../node/238/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-237" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-18T22:05:14+02:00">
  <span class="month">Aug</span>
  <span class="day">18</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/237/index.html">Time Flies</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>Life is busy... and then you don't blog that much .</p>
<p>And it doesn't look like it's going to be any less busy in the next couple of weeks.</p>
<p>As usual I`m going to <a href="http://www.linux-kongress.org/2006/">LinuxKongress</a>  it's in Nurnberg this year .. and the schedule looks interresting as usual,<br />
well.. maybe not all the talks but at least the people :)   Conference is booked,  Hotel is  booked,  Ride back booked , still figuring out how to get there. Why can you get a travel itinary on <a href="http://www.nmbs.be/">www.nmbs.be</a> but no pricing, not even an estimate ?</p>
<p>The schedule for LinuxWorldExpo.nl is also online, if you can call it a schedule .. well.. it has  Harald,  Georg .. some other people .. and me ..<br />
But before that .. Barcamp Brussels.   this time I`m gonna try to be on time and try to present something :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="../node/237/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-236" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-01T22:11:41+02:00">
  <span class="month">Aug</span>
  <span class="day">01</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/236/index.html">An Open Letter to Luke Kanies about Conferences :)</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>In <a href="http://madstop.com/articles/2006/07/31/an-open-letter-to-tim-bray-about-oscon">An Open Letter to Tim Bray about OSCON</a><br />
documents his experience at OSCON.</p>
<p>I`'ve already commented earlier on different conferences and I feel his pain,  some conferences don't fit your expectations because the target audience is different than you expected.     Sometimes it's like talking about Single System Image clustering to a bunch of people that have just installed their first Linux box at home, other times it's like talking about the difficulty of configuring someones desktop preferences to a bunch of kernel developers,   There's a good chance they don't care since they already know how to do that :)</p>
<p>However for me a talk was worth the effort if there was at least 1 person in the audience who learned something,  If I can convince 1 (one) person in the audience to have a look at a project,  to think about how he is working today and get feedback from him, it was worth the effort.     And it's true that different areas of the opensource world should try to take a closer look at eachother, visit eachothers events and learn.  You're never too old :)<br />
So I`m sure that there was at least one guy in the audience who learned about Puppet and will start looking deeper into it.</p>
<p>Actually remembering  LISA 05 ,  I submitted some Xen  abstracts and didn't get accepted, only to have lots' of people complain why there was not one single Xen talk,  so it seemed there were some issues on that conference program there too :)   Actually I still didn't get any feedback on my abstracts on Xen deployments for this years edition.</p>
<p>So before the schedule is out lemme say this . imvho  at this year's LISA there should at least be a talk on openQRM and some talks on deploying Virtual Machines. :)</p>
<p>Anyway .. the important part isn't even  trying  to interrest different kinds of people in your project , it's meeting them , it's hearing different opinions on how to do stuff and their reasons for doing so , It's learing  from them , wether it's on kernel level, infrastructure level, or development level :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="../node/236/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-235" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-01T10:05:55+02:00">
  <span class="month">Aug</span>
  <span class="day">01</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/235/index.html">Xen not stable ?</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>So some high level exec at some company who probably never even touched the technology calls Xen unstable and not ready for production , and the whole IT press jumps on it repeating his unfounded statements.</p>
<pre>customer@XenBox:~&gt; uname -a
Linux XenBox 2.4.30-xen0 #3 Fri Aug 12 15:01:01 CEST 2005 i686 unknown
unknown GNU/Linux
customer@XenBox:~&gt; w
17:59:44 up 321 days, 18:52,  1 user,  load average: 0.01, 0.00, 0.00</pre><p>I'd call this <strong> stable.</strong></p>
<p>(PS.  Yes hostname and username have been stripped on purpose to keep the client info confidential,  but this is a production Telco environment, and it's not the only one)</p>
</div>
</div>
<div id="node-234" class="node teaser story cal">
    <acronym class="calendar published" title="2006-07-28T09:40:20+02:00">
  <span class="month">Jul</span>
  <span class="day">28</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="../node/234/index.html">Happy SysAdmin day !</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p><a href="http://www.ukuug.org/sysadminday/">Happy SysAdmin day from the UKUUG</a></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="../node/234/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div class="item-list"><ul class="pager"><li class="pager-first first"><a href="index.html" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="index79.html?page=79" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-item"><a href="index76.html?page=76" title="Go to page 77" class="active">77</a></li>
<li class="pager-item"><a href="index77.html?page=77" title="Go to page 78" class="active">78</a></li>
<li class="pager-item"><a href="index78.html?page=78" title="Go to page 79" class="active">79</a></li>
<li class="pager-item"><a href="index79.html?page=79" title="Go to page 80" class="active">80</a></li>
<li class="pager-current">81</li>
<li class="pager-item"><a href="index81.html?page=81" title="Go to page 82" class="active">82</a></li>
<li class="pager-item"><a href="index82.html?page=82" title="Go to page 83" class="active">83</a></li>
<li class="pager-item"><a href="index83.html?page=83" title="Go to page 84" class="active">84</a></li>
<li class="pager-item"><a href="index84.html?page=84" title="Go to page 85" class="active">85</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-next"><a href="index81.html?page=81" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="index104.html?page=104" title="Go to last page" class="active">last »</a></li>
</ul></div></div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
