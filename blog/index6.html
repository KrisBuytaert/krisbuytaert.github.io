<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from 127.0.0.1:8080/blog/blog?page=6 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 06:22:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Everything is a Freaking DNS problem | Devops Needs Sushi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/blog/blogapi/rsd/index.html" />
<link rel="alternate" type="application/rss+xml" title="Everything is a Freaking DNS problem RSS" href="/blog/rss/index.xml" />
<link rel="shortcut icon" href="/blog/misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/aggregator/aggregator/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/node/node/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/poll/poll/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/system/defaults/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/system/system/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/system/system-menus/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/user/user/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/cck/theme/content-module/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/date/date/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/geshifilter/geshifilter/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/misc/farbtastic/farbtastic/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/calendar/calendar/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/views/css/views/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/default/themes/barlow/typography/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/default/themes/barlow/layout/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/default/themes/barlow/style/index.css?9" />
<link type="text/css" rel="stylesheet" media="print" href="/blog/sites/default/themes/barlow/print/index.css?9" />
</head>

<body class="front not-logged-in page-node one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="/blog/index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="/blog/files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="/blog/index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="/blog/faq/index/index.html">FAQ</a> and  <a href="/blog/social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
<div class="content">
<div id="node-1052" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-11-13T21:31:23+01:00">
  <span class="month">Nov</span>
  <span class="day">13</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/qr-encode/index.html">QR Encode</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1466 first last"><a href="/blog/category/notetoself/index.html" rel="tag" title="">notetoself</a></li>
</ul></span>
        </div>
  <div class="content"><p>For further reference .. and preventing me from googling it a 3rd time</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">qrencode &quot;http://www.krisbuytaert.be/&quot;  -o qrcode.png  -s 10</div></li></ol></pre></div></p>
<p>or<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">cat Kris_Buytaert.vcf  | qrencode  -o vcf.png -s 5 </div></li></ol></pre></div></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="/blog/qr-encode/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-1051" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-10-30T20:51:43+01:00">
  <span class="month">Oct</span>
  <span class="day">30</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/different-shade-green/index.html">A different shade of green</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1328 first"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_1465 last"><a href="/blog/category/jenkins/index.html" rel="tag" title="">jenkins</a></li>
</ul></span>
        </div>
  <div class="content"><p>Back in late 1997 I had spent way too much time helping people to build websites and was fed up with customers wanting a different shade  of green for the background of their website.   I was fed up with the graphic artists that didn't want to understand the concept of a color pallet and browser safe colors and didn't understand the differences between print and web.  So I decided to try not to work for the wannabe webexperts anymore and doing some real software.</p>
<p>Fast forward 15 years and I find myselve discussing the different shades of green  with developers ...     maybe it's time for some radical change again :)</p>
<p><img src="http://geekandpoke.typepad.com/.a/6a00d8341d3df553ef015392a77686970b-pi" WIDTH=600 /></p>
<p>You got to love <a href="http://geekandpoke.typepad.com/geekandpoke/2011/10/green-it-part-2.html">Geek &amp; Poke</a></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-1050" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-09-24T14:53:29+02:00">
  <span class="month">Sep</span>
  <span class="day">24</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/fall-winter-and-spring-conference-season-2011-2012/index.html">Fall , Winter and Spring Conference Season 2011 - 2012</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_558 first"><a href="/blog/taxonomy/term/558/index.html" rel="tag" title="">conferences</a></li>
<li class="taxonomy_term_1328"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_599"><a href="/blog/taxonomy/term/599/index.html" rel="tag" title="">opensource</a></li>
<li class="taxonomy_term_439 last"><a href="/blog/taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://www.jedi.be/blog/2011/09/06/what-conferences-to-attend/">Patrick</a> posted his upcoming conference schedule for the next couple of months.<br />
 as you can see there are a comple of overlapping conferences :)</p>
<p>Conferences I'm speaking at or likely to attend are:</p>
<ul>
<li>The first week of October I`ll be in the Valley ,  I`ll be late for Jenkinsconf but I hope to pick up some events while I`m there.. suggestions are welcome , I`m also heading back to Europe earlier than planned so I will miss BadCamp :( ...
</li>
<li><a href="http://devopsdays.org/events/2011-goteborg/">Devopsdays Goteborg, Sweden</a> : <i>October 14,15</i> - The yearly Europe devops event is happening in Goteborg this time. It's going to be really exciting this time , as the theme is inclusive. Eploring the boundaries of devops,  I`m once again in the organization of  this conference.</li>
<li><a href="http://t-dose.org/">T-Dose 2011</a>, The Technical Dutch Open Source Event, on 5 and 6 november 2011 , I will be talking again about my experiences with complex Puppet setups
</li>
<li><del><a href="http://citconf.com/">Citconf , London</a>: <i>November 11-12</i> - All you ever wanted to know about Continuous Integration. Period, registered, haven't booked flights yet.</del></li>
<li><a href="http://www.cloudcamp.org/ghent">Cloudcamp Belgium</a>: <i>November 21</i> - I'm looking forward to this year's event, as there will likely more practioners and less marketing folks.</li>
<li><a href="http://www.usenix.org/events/lisa11/tech/tech.html#Buytaert">Lisa 2011</a>, Boston, US,     I`m giving an Invited talk titled , Devops: The past and futre are here, It's just not evenly distributed (yet),  and I`ll be on a panel titled What Will Be HOt Next Year, really looking forward to this one :)
</li>
<li><a href="http://fosdem.org/">Fosdem.org</a> will take place on  4 and 5 February 2012 , and as every year  since it inception I'll be there </li>
<li>The UKUUG rebranded to <a href="http://www.flossuk.org/Events/Spring2012/">FlossUK</a> , they are hosting their Annual Spring conference from 20th to 22nd March in Edinburgh , given their refound focus it will be even more interresting ! </li>
<li>And as announced earlier this week <a href="http://loadays.org/">Loadays.org</a> will take place in Antwerp again this year on 31/3/2012 and 1/4/2012 , as the previous years I`m co organizing this conference</li>
</ul>
<p>And yes, I do work from time to time. Just that these conferences are a great way to capture and share new ideas. All worth it!</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-1049" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-08-24T10:41:34+02:00">
  <span class="month">Aug</span>
  <span class="day">24</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/using-veewee/index.html">Using Veewee</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1328 first"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_439"><a href="/blog/taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
<li class="taxonomy_term_1439"><a href="/blog/category/vagrant/index.html" rel="tag" title="">vagrant</a></li>
<li class="taxonomy_term_1464 last"><a href="/blog/category/veewee/index.html" rel="tag" title="">veewee</a></li>
</ul></span>
        </div>
  <div class="content"><p>With @dancarley and @patrickebois just discussing the origin of the name of Veewee  I figured I still had that piece of documentation I wrote up for myselve flying around ...  </p>
<p>So with no other reason than having my docs mirrored on the internet . </p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">gem install veewee</div></li></ol></pre></div></p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">veewee templates</div></li></ol></pre></div><br />
shows you what templates we have around ..</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">$veewee init natty ubuntu-11.04-server-amd64</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Init a new box natty, starting from template ubuntu-11.04-server-amd64</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">The basebox 'natty' has been successfully created from the template ''ubuntu-11.04-server-amd64'</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">You can now edit the definition files stored in definitions/natty</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">or build the box with:</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">vagrant basebox build 'natty'</div></li></ol></pre></div></p>
<p>As noted this will generate the definition for your natty box,<br />
It will create a definition.rb file which describes your box.<br />
A preseed (or kickstart or similar file)  and a postinstall file</p>
<p>The next step is then to use vagrant to build this basebox<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">$ vagrant  basebox build natty</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Verifying the isofile ubuntu-11.04-server-amd64.iso is ok.</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Creating vm natty : 384M - 1 CPU - Ubuntu_64</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Creating new harddrive of size 10140</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">VBoxManage createhd --filename '/home/sdog/VirtualBox VMs/natty/natty.vdi' --size '10140' --format vdi &gt; /dev/null</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Attaching disk: /home/sdog/VirtualBox VMs/natty/natty.vdi</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Mounting cdrom: /home/sdog/iso/ubuntu-11.04-server-amd64.iso</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Waiting for the machine to boot</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[1]: &lt;Esc&gt;&lt;Esc&gt;&lt;Enter&gt;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[2]: /install/vmlinuz noapic preseed/url=http://192.168.10.101:7122/preseed.cfg</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[3]: debian-installer=en_US auto locale=en_US kbd-chooser/method=us</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[4]: hostname=natty</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[5]: fb=false debconf/frontend=noninteractive</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[6]: keyboard-configuration/layout=USA keyboard-configuration/variant=USA console-setup/ask_detect=false </div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Typing:[7]: initrd=/install/initrd.gz -- &lt;Enter&gt;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Done typing.</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Starting a webserver on port 7122</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Serving file /home/sdog/definitions/natty/preseed.cfg</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Waiting for ssh login with user vagrant to sshd on port =&gt; 7222 to work</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">.....................................................................................................................................................Transferring /tmp/vbox.version20110822-6766-1xcca1e-0 to .vbox_version</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">..</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Step [0] was successfully - saving state</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Waiting for ssh login with user vagrant to sshd on port =&gt; 7222 to work</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">.Transferring /home/sdog/definitions/natty/postinstall.sh to postinstall.sh</div></li></ol></pre></div><br />
Plenty more output here !</p>
<p>Be very patient ..  you will see VirtualBox launch a VM and start installing it ..</p>
<p>The next steps are clear .. vagrant tells you what you can do next</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Now you can:</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">- verify your box by running               : vagrant basebox validate natty</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">- export your vm to a .box file by running : vagrant basebox export   natty</div></li></ol></pre></div></p>
<p>So after validating it , you can now export the basebox and share it with other people.</p>
<p>The next step is to actually use that box in your own Vagrant setup, for that you need to import the box into your box collection</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">$ vagrant box add 'natty' 'natty.box'</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[vagrant] Downloading with Vagrant::Downloaders::File...</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[vagrant] Copying box to temporary location...</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[vagrant] Extracting box...</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[vagrant] Verifying box...</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[vagrant] Cleaning up downloaded box...</div></li></ol></pre></div></p>
<p>To verify just run</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">$ vagrant box list</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Centos6</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">MyCentOS2</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">debian</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">natty</div></li></ol></pre></div></p>
<p>your freslhy imported box should be in the list .</p>
<p>You can now use<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">config.vm.box = &quot;natty&quot;</div></li></ol></pre></div> to refer to the fresly imported box in your Vagrant file, a file that can be created by running vagrant init, or copying around another Vagrant template ..</p>
<p>After that .. regular vagrant fun starts,  up,  provision, provision, provision, destroy,  and so forth ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="/blog/using-veewee/index.html#comments" title="Jump to the first comment of this posting.">3 comments</a></li>
</ul></div>
</div>
<div id="node-1048" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-08-21T20:55:58+02:00">
  <span class="month">Aug</span>
  <span class="day">21</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/devops-drupal-survey/index.html">Devops for Drupal, the survey,</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1328 first"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_484 last"><a href="/blog/taxonomy/term/484/index.html" rel="tag" title="">drupal</a></li>
</ul></span>
        </div>
  <div class="content"><p>Devops is gaining momentum, the idea that developers and operations should work much closer together , the idea that one should automate as much as possible in both their infrastructure and their release process  brings along a lot of questions, ideas and tools that need to be integrated in your daily way of working.</p>
<p>Drupal has one of the biggest development communities in the open source world,  being part of both communities  We are  trying to bridge the gap,</p>
<p>At <a href="http://www.inuits.eu/" rel="nofollow">Inuits</a> we are building tools and writing best practices to close the gap,  but we are not alone in this world and we would like to gather some feedback on how other people are deploying, and managing their Drupal environments</p>
<p>Working with Drupal, build with Drupal in mind .. how do you release your sites ..  That's what we are trying to figure out ... for everybody else to learn from</p>
<p>Oh and you can win some items of our brand new fashion line ! </p>
<p>The survey is <a href="http://surveys.inuits.eu/limesurvey/index.php?sid=81259" rel="nofollow">here</a> , please spend a bit of your time helping us to better  understand the needs of the community</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-1047" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-08-21T20:53:15+02:00">
  <span class="month">Aug</span>
  <span class="day">21</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/back-opendbcamp-and-froscon/index.html">Back from opendbcamp  and Froscon</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1462 first"><a href="/blog/category/froscon/index.html" rel="tag" title="">froscon</a></li>
<li class="taxonomy_term_1461"><a href="/blog/category/opendbcamp/index.html" rel="tag" title="">opendbcamp</a></li>
<li class="taxonomy_term_1463 last"><a href="/blog/category/puppet-devops/index.html" rel="tag" title="">puppet devops</a></li>
</ul></span>
        </div>
  <div class="content"><p>I`m back from my second opendbcamp this year, and my first Froscon :) </p>
<p>With Sankt Augustin being only a 2.5 hour drive , it was one of the only conferences in Europe so close to home that I hadn't visited yet.    Overall it's a good conference,  it's a good sized, not too crowded event which attracted a bunch of interesting speakers. </p>
<p>Sadly they managed to do way to much changes to the schedule last minute which were not updated in their Android app.. so I ended up arriving in the wrong room multiple times ..  Also Sadly German conferences still tend to have way to much German language presentations,  for foreign speakers from different parts of the world that limits the choice of talks they can visit.</p>
<p>I gave 2 talks today in Sankt Augustin,   I opened the Devops Track today with a general introduction to Devops,  the talk was fairly well attended given it was on a Sunday morning right after the social event and plenty of people had questions.</p>
<div style="width:425px" id="__ss_8948134"> <strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/KrisBuytaert/devops-devops-devops-at-froscon" title="Devops Devops Devops, at Froscon" target="_blank">Devops Devops Devops, at Froscon</a></strong> <iframe src="http://www.slideshare.net/slideshow/embed_code/8948134" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe><br />
<div style="padding:5px 0 12px"> View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/KrisBuytaert" target="_blank">Kris Buytaert</a> </div>
</div>
<p>My second talk of the day was about my experience puppetizing SipX,  it felt pretty weird having to give an introduction to Puppet in the slot after <a href="http://www.kartar.net/">James</a> ,  apart from the session chair telling me I had only 5 minutes left about 25 minutes into my talk and the microphone breaking twice on me it went fairly well,  it was even attended by a dog. </p>
<div style="width:425px" id="__ss_8948142"> <strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/KrisBuytaert/automating-complex-infrastructures-with-puppet" title="Automating complex infrastructures with Puppet" target="_blank">Automating complex infrastructures with Puppet</a></strong> <iframe src="http://www.slideshare.net/slideshow/embed_code/8948142" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe><br />
<div style="padding:5px 0 12px"> View more <a href="http://www.slideshare.net/" target="_blank">presentations</a> from <a href="http://www.slideshare.net/KrisBuytaert" target="_blank">Kris Buytaert</a> </div>
</div>
<p>Time permitting, Froscon is a conference I might visit again :) </p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-1045" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-07-17T22:39:27+02:00">
  <span class="month">Jul</span>
  <span class="day">17</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/drupal-and-configuration-mgmt-were-getting-there/index.html">Drupal and Configuration Mgmt, we&#039;re getting there ... </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1158 first"><a href="/blog/category/chef/index.html" rel="tag" title="">chef</a></li>
<li class="taxonomy_term_440"><a href="/blog/taxonomy/term/440/index.html" rel="tag" title="">configuration management</a></li>
<li class="taxonomy_term_1161"><a href="/blog/category/deployment/index.html" rel="tag" title="">deployment</a></li>
<li class="taxonomy_term_1328"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_484"><a href="/blog/taxonomy/term/484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_461"><a href="/blog/taxonomy/term/461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_439 last"><a href="/blog/taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
</ul></span>
        </div>
  <div class="content"><p>For those who haven't noticed yet .. I`m into devops  .. I`m also a little bit into Drupal, (blame my last name..)  ,  so one of the frustrations I've been having with Drupal (an much other software) is the automation of deployment and upgrades of Drupal sites ... </p>
<p>So for the past couple of days  I've been trying to catch up to the ongoing discussion regarding the results of the <a href="http://groups.drupal.org/node/155559" rel="nofollow">configuration mgmt  sprint</a> , I've been looking at it mainly from a systems point of view , being  with the use of Puppet/ Chef or similar tools in mind ..  I know I`m late to the discussion but hey , some people take holidays in this season :)   So below you can read a bunch of my comments ... and thoughts on the topic ..</p>
<p>First of all , to me JSON looks like a valid option.<br />
Initially there was the plan to wrap the JSON in a PHP header for "security" reasons, but that seems to be gone even while nobody mentioned the problems that would have been caused for external configuration management tools.<br />
When thinking about external tools that should be capable of mangling the file plenty of them support JSON but won't be able to recognize a JSON file with a weird header ( thinking e.g about Augeas  (augeas.net) , I`m not talking about IDE's , GUI's etc  here, I`m talking about system level tools and libraries  that are designed to mangle standard files.   For Augeas we could create a separate lens to manage these files , but other tools might have bigger problems with the concept.</p>
<p>As <a href="http://groups.drupal.org/node/155559#comment-520134" rel="nofollow">catch</a> suggest a clean .htaccess should be capable of preventing people to access the .json files  There's other methods to figure out if files have been tampered with , not sure if this even fits within Drupal  (I`m thinking about reusing existing CA setups rather than having yet another security setup to manage) , </p>
<p>In general to me tools such as puppet should be capable of modifying config files , and then activating that config with no human interaction required , obviously drush is a good candidate here to trigger the system after the config files have been change, but unlike some people think having to browse to a web page to confirm the changes is not an acceptable solution.  Just think about having to do this on multiple environments ... manual actions are error prone.. </p>
<p>Apart from that I also think the storing of the certificates should not be part of the file.  What about a meta file with the appropriate checksums ?  (Also if I`m using Puppet or any other tool to manage my config files then the security , preventing to tamper these  files, is already covered by the configuration management tools,  I do understand that people want to build Drupal in the most secure way possible, but I don't think this belongs in any web application.  </p>
<p>When I look at other similar discussions that wanted to provide a similar secure setup they ran into a lot of end user problems with these kind of setups,  an alternative approach is to make this configurable and or plugable.   The default approach should be to have it enable, but the more experienced users should have the opportunity to disable this, or replace it with another framework.   Making it plugable upfront solves a lot of hassle later.</p>
<p>Someone in the discussion noted :<br />
"One simple suggestion for enhancing security might be to make it possible to omit the secret key file and require the user to enter the key into the UI or drush in order to load configuration from disk."</p>
<p>Requiring the user to enter a key in the UI or drush would be counterproductive in the goal one wants to achieve,  the last thing you want as a requirement is manual/human interaction when automating setups.   therefore a feature like this should never be implemented  </p>
<p>Luckily there seems to be  new idea around <a href="http://groups.drupal.org/node/157379" rel="nofollow">that</a> doesn't plan on using a raped json file<br />
<cite>instead of storing the config files in a standard place, we store them in a directory that is named using a hash of your site's private key, like sites/default/config_723fd490de3fb7203c3a408abee8c0bf3c2d302392. The files in this directory would still be protected via .htaccess/web.config, but if that protection failed then the files would still be essentially impossible to find. This means we could store pure, native .json files everywhere instead, to still bring the benefits of JSON (human editable, syntax checkable, interoperability with external configuration management tools, native + speedy encoding/decoding functions), without the confusing and controversial PHP wrapper.</cite></p>
<p>Figuring out the directory name for the configs from a configuration mgmt tool then could be done by something similar to  </p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">cd sites/default/conf/$(ls sites/default/conf|head -1)</div></li></ol></pre></div></p>
<p>In general I think the proposed setup looks acceptable , it definitely goes in the right direction of providing systems people with a way to automate the deployment of Drupal sites and applications at scale.</p>
<p>I`ll be keeping a eye on both the direction they are heading into and the evolution of the code !</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="/blog/drupal-and-configuration-mgmt-were-getting-there/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-1044" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-06-10T16:26:18+02:00">
  <span class="month">Jun</span>
  <span class="day">10</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/case-augeas/index.html">The case for Augeas</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1458 first"><a href="/blog/category/augeas/index.html" rel="tag" title="">augeas</a></li>
<li class="taxonomy_term_1328"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_1460"><a href="/blog/category/lens/index.html" rel="tag" title="">lens</a></li>
<li class="taxonomy_term_439"><a href="/blog/taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
<li class="taxonomy_term_1459"><a href="/blog/category/sipxecs/index.html" rel="tag" title="">sipxecs</a></li>
<li class="taxonomy_term_1177 last"><a href="/blog/category/xml/index.html" rel="tag" title="">xml</a></li>
</ul></span>
        </div>
  <div class="content"><p>Ever since I met David Lutterkort over steaks at OLS 2007  augeas was this tool in the back of my mind that I couldn't place...  I never saw the need for it... or it seemed to be huge overkill for the problem that needed solving .</p>
<p>Till I ran into sipxecs rewriting XML files on the fly .. and putting values in their XML that I could not trace back to an original source.  As of Augeas 0.8.x there's an XML lens out there.</p>
<p>Digging innot blah.xml with augtool you can do stuff like</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">set /augeas/load/Xml/incl[3] /tmp/blah.xml</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">set /augeas/load/Xml/lens Xml.lns</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">load</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">print /files/tmp/blah.xml/profile/settings/param[17]/</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[17] = &quot;#empty&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[17]/#attribute</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[17]/#attribute/name = &quot;sip-ip&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[17]/#attribute/value = &quot;10.255.202.90&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">augtool&gt; print /files/tmp/blah.xml/profile/settings/param[18]/</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[18] = &quot;#empty&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[18]/#attribute</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[18]/#attribute/name = &quot;ext-rtp-ip&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[18]/#attribute/value = &quot;auto-nat&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">augtool&gt; print /files/tmp/blah.xml/profile/settings/param[16]/</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[16] = &quot;#empty&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[16]/#attribute</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[16]/#attribute/name = &quot;rtp-ip&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/tmp/blah.xml/profile/settings/param[16]/#attribute/value = &quot;10.255.202.90&quot;</div></li></ol></pre></div></p>
<p>and get and set</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">augtool&gt; get  /files/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml/profile/settings/param[17]/#attribute/value</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">/files/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml/profile/settings/param[17]/#attribute/value = 10.255.202.90</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">augtool&gt; set /files/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml/profile/settings/param[16]/#attribute/value 10.0.0.2</div></li></ol></pre></div></p>
<p>Putting that into puppet however isn't that tvivial .</p>
<p>When you try to do this</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">augeas{&quot;sipxprofile&quot; :</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        changes =&gt; [</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        &quot;set /augeas/load/Xml/incl[last()+1] /etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        &quot;set /files/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml/profile/settings/param[16]/#attribute/value 10.0.0.2&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        &quot;set /files/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml/profile/settings/param[17]/#attribute/value 10.0.0.2&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        ],</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        }</div></li></ol></pre></div></p>
<p>Puppet really doesn't output what you want to do ... it only outputs the snippet you modify ..<br />
It's the load statement above that is the really important piece but puppet can't directly work with that so you need to go around that using<br />
The way to solve this is</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">augeas{&quot;sipxprofile&quot; :</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        lens    =&gt; &quot;Xml.lns&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        incl    =&gt; &quot;/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        context =&gt; &quot;/files/etc/sipxpbx/freeswitch/conf/sip_profiles/sipX_profile.xml&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        changes =&gt; [</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">          &quot;set profile/settings/param[16]/#attribute/value $ipaddress&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">          &quot;set profile/settings/param[17]/#attribute/value $ipaddress&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        ],</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        onlyif  =&gt; &quot;get profile/settings/param[16]/#attribute/value != $ipaddress&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">}</div></li></ol></pre></div></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="/blog/case-augeas/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-1043" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-06-08T17:29:33+02:00">
  <span class="month">Jun</span>
  <span class="day">08</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/killing-virtualbox/index.html">Killing VirtualBox</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1457 first"><a href="/blog/category/googlewillfindit/index.html" rel="tag" title="">googlewillfindit</a></li>
<li class="taxonomy_term_1456 last"><a href="/blog/category/personaldocs/index.html" rel="tag" title="">personaldocs</a></li>
</ul></span>
        </div>
  <div class="content"><p>Note to self :<br />
when virtualbox acts up again .</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[sdog@stillmine ~]$  VBoxManage list runningvms</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&quot;vagrant-etherpad_1307533136&quot; {60697a54-35fc-44e7-96b6-008cde6995a6}</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[sdog@stillmine ~]$ VBoxManage controlvm vagrant-etherpad_1307533136 poweroff</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100%</div></li></ol></pre></div></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="/blog/killing-virtualbox/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-1042" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-05-25T23:18:08+02:00">
  <span class="month">May</span>
  <span class="day">25</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="/blog/beyond-configuration-mgmt/index.html">Beyond Configuration Mgmt</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1158 first"><a href="/blog/category/chef/index.html" rel="tag" title="">chef</a></li>
<li class="taxonomy_term_1453"><a href="/blog/category/cucumber/index.html" rel="tag" title="">cucumber</a></li>
<li class="taxonomy_term_1328"><a href="/blog/category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_1455"><a href="/blog/category/jmeter/index.html" rel="tag" title="">jmeter</a></li>
<li class="taxonomy_term_439"><a href="/blog/taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
<li class="taxonomy_term_1363"><a href="/blog/category/puppetcamp/index.html" rel="tag" title="">puppetcamp</a></li>
<li class="taxonomy_term_1452"><a href="/blog/category/selenium/index.html" rel="tag" title="">selenium</a></li>
<li class="taxonomy_term_1454"><a href="/blog/category/shai/index.html" rel="tag" title="">shai</a></li>
<li class="taxonomy_term_1451 last"><a href="/blog/category/testing/index.html" rel="tag" title="">testing</a></li>
</ul></span>
        </div>
  <div class="content"><p>(This post has been sitting in the drafts folder for way to long,  I decided to push the publish button anyhow .. some people might get ideas from it..)</p>
<p>We've all run in to the problem,  you've puppetized, or euh .. cooked ,  about every part of your infrastructure and then there's this one service which has no config files,  a broken api that doesn't allow you to configure antyhing, but a magnificent web gui to configure all aspects of the service.  Magnificent for the eye ,  full of AJAX and other fancy stuff which wget isn't really keen on.  Off course before it even starts working you need to set it's password , from that webgui.</p>
<p>Sometimes when you are lucky they store al their config in a database, which you can dump, parse and replace all the host specific parameters for other deployments,   but is that an approach you like ?  As for each new version you'll need to reanalyze the db layout.  But no matter how you look at it ,dumping the DB and restoring it is an ugly hack you don't want.</p>
<p>Other alternatives like sniffing the traffic and replaying the POSTS etc were considered ...   but fancy AJAX stuff and SSL make that less trivial than it seems </p>
<p>Wo while discussing with an upstream project they proposed to actually screenscrape their config webgui .</p>
<p>So screenscraping the config gui it is .. but how ...  I started looking at tools that are typically used for testing rather than for automation, with the purpose of replaying the scenarios one needs to configure the services.</p>
<p>My first attempt was Selenium,  it plugs into a browser , so it's easy to acraully record what it has to do,  and it saves it's scenarios  in a somewhat readable/ editable format.<br />
Having found the export to perl function it alll looked promising.   However the export to perl isn't really an export to perl as I epxected .. I assumed it would just generate the perl code to run the same scneario which would be awesome .. it however generates a perl script that instructs a selenium server to run the script.</p>
<p>One of the annoyancies I ran into with Selenium is that a browser<br />
doesn't accept self signed certificates , and one can't preprovision a browser easyily with those freshly created certificates. (Yes Karl I already read about certutil ... )</p>
<p>I had heard good things about Cucumber so I was pretty eager to start testing it ...  In short Cucumber  lack documentation ,<br />
I tried a couple of things but I couldn't get beyond testing if a certain string was on a page..  couldn't figure out how to fill in a form etc ...<br />
Maybe if anyone could point me to some great documentation on how you should write recipe's here ... I didn't find the documentation all to  easy to find ..<br />
Bummer as it really really looks promisiung .. specially since it is so lightweight ..</p>
<p>IP played with JMeter and Sahi too .. but still</p>
<p>So apart from filing bugs to the upstream project/product and hoping they understand your problem and are willing to oopen up their API , what other options do you folks suggest ?</p>
<p>I gave a short talk about this at Puppetcamp in Amsterdam  and the audience came up with a bunch of other potential projects to look at .</p>
<ul>
<li>
<a href="http://hpricot.com/" rel="nofollow">Hpricot</a>
</li><li><a href="http://www.webinject.org/" rel="nofollow">WebInject</a>
</li><li><a href="http://sikuli.org/" rel="nofollow">Project Sikuli</a>
</li><li><a href="http://watir.com/" rel="nofollow">Watir</a> and
</li></ul>
<p>The main problem still is that all these are tools to automate testing , they don't provide you with a general purpose approach to solve the configuration mgmt problem, each time the upstream vendor modifies the layout of his page you hav e to do the work again  and that .. really doesn't sound promising ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="/blog/blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="/blog/beyond-configuration-mgmt/index.html#comments" title="Jump to the first comment of this posting.">6 comments</a></li>
</ul></div>
</div>
<div class="item-list"><ul class="pager"><li class="pager-first first"><a href="index.html" title="Go to first page" class="active"> first</a></li>
<li class="pager-previous"><a href="index5.html?page=5" title="Go to previous page" class="active"> previous</a></li>
<li class="pager-ellipsis"></li>
<li class="pager-item"><a href="index2.html?page=2" title="Go to page 3" class="active">3</a></li>
<li class="pager-item"><a href="index3.html?page=3" title="Go to page 4" class="active">4</a></li>
<li class="pager-item"><a href="index4.html?page=4" title="Go to page 5" class="active">5</a></li>
<li class="pager-item"><a href="index5.html?page=5" title="Go to page 6" class="active">6</a></li>
<li class="pager-current">7</li>
<li class="pager-item"><a href="index7.html?page=7" title="Go to page 8" class="active">8</a></li>
<li class="pager-item"><a href="index8.html?page=8" title="Go to page 9" class="active">9</a></li>
<li class="pager-item"><a href="index9.html?page=9" title="Go to page 10" class="active">10</a></li>
<li class="pager-item"><a href="index10.html?page=10" title="Go to page 11" class="active">11</a></li>
<li class="pager-ellipsis"></li>
<li class="pager-next"><a href="index7.html?page=7" title="Go to next page" class="active">next </a></li>
<li class="pager-last last"><a href="index103.html?page=103" title="Go to last page" class="active">last </a></li>
</ul></div></div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>

<!-- Mirrored from 127.0.0.1:8080/blog/blog?page=6 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 06:22:53 GMT -->
</html>
